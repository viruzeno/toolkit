# https://splunk.github.io/splunk-operator/Examples.html
---
apiVersion: enterprise.splunk.com/v4
kind: ClusterManager
metadata:
  name: cm
  namespace: splunk-operator
  finalizers:
  - enterprise.splunk.com/delete-pvc
spec:
  monitoringConsoleRef:
    name: monitor
  # licenseManagerRef:
  #   name: license
---
apiVersion: enterprise.splunk.com/v4
kind: MonitoringConsole
metadata:
  name: monitor
  namespace: splunk-operator
  finalizers:
  - enterprise.splunk.com/delete-pvc
---
apiVersion: enterprise.splunk.com/v4
kind: IndexerCluster
metadata:
  name: example
  namespace: splunk-operator
  finalizers:
  - enterprise.splunk.com/delete-pvc
spec:
  spec:
  clusterManagerRef:
    name: cm
  replicas: 2
  monitoringConsoleRef:
    name: monitor
---
apiVersion: enterprise.splunk.com/v4
kind: Standalone
metadata:
  name: search
  namespace: splunk-operator
  finalizers:
  - enterprise.splunk.com/delete-pvc
spec:
  clusterManagerRef:
    name: cm
  monitoringConsoleRef:
    name: monitor
# ---
# apiVersion: enterprise.splunk.com/v4
# kind: LicenseManager
# metadata:
#   name: license
#   namespace: splunk-operator
#   finalizers:
#   - enterprise.splunk.com/delete-pvc
# spec:
#   volumes:
#     - name: licenses
#       configMap:
#         name: splunk-licenses
#   licenseUrl: /mnt/licenses/enterprise.lic